(self.webpackChunkguess_me=self.webpackChunkguess_me||[]).push([[761],{145:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(4165),s=n(5861),a=n(8152),i=n(2791),o=n(5671),c=n(3144),u=n(3263),l=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={method:"GET",url:"https://restcountries.com/v3.1/all"},e.next=4,(0,u.Z)(t);case 4:return n=e.sent,e.abrupt("return",{status:200,data:n.data,timpestamp:Date.now(),message:"success"});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{status:500,data:null,timpestamp:Date.now(),message:(null===e.t0||void 0===e.t0||null===(s=e.t0.data)||void 0===s?void 0:s.message)||"Opps! something went wrong please try again!!"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),d=l,p=n(6666),f=n.n(p),m=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return t=e.sent,e.abrupt("return",t.data.map((function(e){var t,n;return{id:f()(),name:null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.common,flag:null===e||void 0===e||null===(n=e.flags)||void 0===n?void 0:n.svg}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){function e(t){(0,o.Z)(this,e),this.contries=[],this.playerName="anonymous",this.playerName=t}return(0,c.Z)(e,[{key:"start",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:this.contries=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"random",value:function(e){return e[Math.floor(Math.random()*e.length)]}},{key:"shuffle",value:function(e){for(var t=[],n=[],r=[0,1,2,3];t.length<r.length;){var s=this.random(r);t.includes(s)||t.push(s)}for(var a=0;a<r.length;a++)n[t[a]]=e[a];return n}},{key:"pick",value:function(){var e=this,t=this.random(this.contries),n=[];n.length=3;var r=n.fill(0).map((function(t){return e.random(e.contries)})),s={};return s.question=t,s.options=r.map((function(e){return{name:e.name}})),s.options.push({name:t.name}),s.options=this.shuffle(s.options),s.options=s.options.map((function(e,t){return{index:t+1,name:e.name}})),s}}]),e}(),h=v,x=n(7785),g=new(n.n(x)())("SECRET_KEY_VERTYYY"),y={sign:function(e){return g.encrypt(e)},verify:function(e){return g.decrypt(e)}},b=n.p+"static/media/invalid-selection.962d0e56c4dfede0f5f5.mp3",Z=n.p+"static/media/success.fd2c2fea27379cbc44da.mp3",k=n(8675),w=n(184);function j(e){var t=(0,i.useState)([]),n=(0,a.Z)(t,2),o=n[0],c=n[1],u=(0,i.useState)(),l=(0,a.Z)(u,2),d=l[0],p=l[1],f=(0,i.useState)(""),m=(0,a.Z)(f,2),v=m[0],x=m[1],g=(0,i.useState)(1),j=(0,a.Z)(g,2),L=j[0],S=j[1],N=(0,i.useState)(0),q=(0,a.Z)(N,2),E=q[0],T=q[1],C=new h(null===e||void 0===e?void 0:e.player),Y=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,n,s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.start();case 2:s=C.pick(),c(null===s||void 0===s?void 0:s.options),p(null===s||void 0===s||null===(t=s.question)||void 0===t?void 0:t.flag),a=y.sign(null===s||void 0===s||null===(n=s.question)||void 0===n?void 0:n.name),x(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){var t=new Audio;t.src="failed"===e?b:Z,t.load(),t.play()},A=function(e){document.querySelectorAll('[data-id="options"]').forEach((function(e){e.classList.add("pointer-events-none"),e.classList.add("opacity-95")}));var t=e.target.innerText,n=y.verify(v);t===n?(_("success"),T((function(e){return e+1}))):(_("failed"),e.currentTarget.classList.add("shake")),function(e){var t=o.filter((function(t){return(null===t||void 0===t?void 0:t.name)===e}))[0].index;document.querySelector("#opt".concat(t)).classList.remove("bg-[#911db4]"),document.querySelector("#opt".concat(t)).classList.add("bg-green-700"),[1,2,3,4].filter((function(e){return e!==t})).forEach((function(e){document.querySelector("#opt".concat(e)).classList.remove("bg-[#911db4]"),document.querySelector("#opt".concat(e)).classList.add("bg-red-700")}))}(n)};return(0,i.useEffect)((function(){Y()}),[L]),(0,w.jsx)("div",{className:"flex justify-center items-center gap-3 py-10 px-6 md:px-0",children:o.length?(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:"text-[30px] font-semibold",children:(0,w.jsxs)("b",{children:[L,"/25"]})}),(0,w.jsx)("div",{className:" mt-8 max-w-[400px] max-h-[200px] flex justify-center items-center",children:(0,w.jsx)("img",{src:d,alt:"flag",className:"w-[400px] h-[200px] object-fill"})}),(0,w.jsx)("div",{className:"mt-6 flex flex-col gap-3",children:o.map((function(e,t){return(0,w.jsx)("div",{className:"p-2 cursor-pointer bg-[#911db4] flex  justify-center rounded-md",onClick:A,id:"opt".concat(null===e||void 0===e?void 0:e.index),"data-id":"options",children:(0,w.jsx)("p",{className:"text-[20px] select-none",children:null===e||void 0===e?void 0:e.name})},t)}))}),(0,w.jsx)("button",{onClick:function(){25===L&&(e.setFinalScore(E),e.setTab(2)),document.querySelectorAll('[data-id="options"]').forEach((function(e){e.classList.remove("bg-red-700"),e.classList.remove("bg-green-700"),e.classList.add("bg-[#911db4]"),e.classList.remove("pointer-events-none"),e.classList.remove("opacity-95"),e.classList.remove("shake")})),S((function(e){return e+1}))},className:"px-6 py-3 select-none bg-pink-600 rounded-md mt-6 md:ml-[160px] ml-[150px] ",children:"next"})]}):(0,w.jsx)(k.Z,{})})}},2480:function(){}}]);
//# sourceMappingURL=761.9ecf6bfc.chunk.js.map